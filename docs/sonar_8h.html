<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FastArduino: fastarduino/devices/sonar.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FastArduino
   </div>
   <div id="projectbrief">C++ library to build fast but small Arduino/AVR projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sonar_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sonar.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>API to handle ultrasonic distance rangers (aka "sonar") such as the HC-SR04.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;fastarduino/boards/board.h&gt;</code><br />
<code>#include &lt;<a class="el" href="gpio_8h_source.html">fastarduino/gpio.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="time_8h_source.html">fastarduino/time.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="realtime__timer_8h_source.html">fastarduino/realtime_timer.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="utilities_8h_source.html">fastarduino/utilities.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="int_8h_source.html">fastarduino/int.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="pci_8h_source.html">fastarduino/pci.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sonar.h:</div>
<div class="dyncontent">
<div class="center"><img src="sonar_8h__incl.png" border="0" usemap="#fastarduino_2devices_2sonar_8h" alt=""/></div>
<map name="fastarduino_2devices_2sonar_8h" id="fastarduino_2devices_2sonar_8h">
<area shape="rect"  title="API to handle ultrasonic distance rangers (aka &quot;sonar&quot;) such as the HC&#45;SR04." alt="" coords="854,5,1005,47"/>
<area shape="rect"  href="board_8h_source.html" title=" " alt="" coords="1033,483,1177,524"/>
<area shape="rect"  href="gpio_8h.html" title="General Purpose (digital) Input Output API." alt="" coords="1023,259,1163,285"/>
<area shape="rect"  href="utilities_8h.html" title="General utilities API that have broad application in programs." alt="" coords="660,408,743,435"/>
<area shape="rect"  href="time_8h.html" title="Simple time utilities." alt="" coords="131,333,274,360"/>
<area shape="rect"  href="realtime__timer_8h.html" title="Real&#45;time Timer API." alt="" coords="609,95,764,136"/>
<area shape="rect"  href="int_8h.html" title="General API for handling External Interrupt pins." alt="" coords="865,259,994,285"/>
<area shape="rect"  href="pci_8h.html" title="General API for handling Pin Change Interrupts." alt="" coords="1192,259,1323,285"/>
<area shape="rect"  title=" " alt="" coords="439,572,510,599"/>
<area shape="rect"  title=" " alt="" coords="1013,333,1173,360"/>
<area shape="rect"  title=" " alt="" coords="649,490,753,517"/>
<area shape="rect"  href="io_8h_source.html" title=" " alt="" coords="166,408,261,435"/>
<area shape="rect"  title=" " alt="" coords="5,408,141,435"/>
<area shape="rect"  title=" " alt="" coords="178,490,249,517"/>
<area shape="rect"  title=" " alt="" coords="919,408,1033,435"/>
<area shape="rect"  href="interrupts_8h.html" title="General API for handling AVR interrupt vectors." alt="" coords="790,333,887,360"/>
<area shape="rect"  href="timer_8h.html" title="Timer API." alt="" coords="653,259,721,285"/>
<area shape="rect"  href="events_8h.html" title="Support for events management." alt="" coords="357,184,435,211"/>
<area shape="rect"  title=" " alt="" coords="363,408,437,435"/>
<area shape="rect"  href="queue_8h.html" title="Utility API to handle ring&#45;buffer queue containers." alt="" coords="240,259,315,285"/>
<area shape="rect"  href="linked__list_8h.html" title="Utility API to handle linked list containers." alt="" coords="390,259,490,285"/>
<area shape="rect"  href="types__traits_8h.html" title="Useful traits for common types." alt="" coords="350,333,461,360"/>
</map>
</div>
</div>
<p><a href="sonar_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevices_1_1sonar_1_1_abstract_sonar.html">devices::sonar::AbstractSonar&lt; NTIMER_ &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An abstract base class for some sonar classes defined as part of this API.  <a href="classdevices_1_1sonar_1_1_abstract_sonar.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04&lt; NTIMER_, TRIGGER_, ECHO_, SONAR_TYPE_ &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdevices_1_1sonar_1_1_sonar_event.html">devices::sonar::SonarEvent&lt; NTIMER_ &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This type holds information about events occurring within <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">MultiHCSR04</a></code> handler.  <a href="structdevices_1_1sonar_1_1_sonar_event.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html">devices::sonar::MultiHCSR04&lt; NTIMER_, TRIGGER_, ECHO_PORT_, ECHO_MASK_ &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins gathered and connected to only one MCU pin, and all echo pins connected to the same MCU <code><a class="el" href="namespaceboard.html#a151323e5de5adf93f6bcdfdd64fa1eb1" title="Defines all available ports of the target MCU.">board::Port</a></code>.  <a href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacedevices"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedevices.html">devices</a></td></tr>
<tr class="memdesc:namespacedevices"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines API for Real-Time Clock chips usage. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a669cf6b5ffc13aada097587cae9b2721"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a669cf6b5ffc13aada097587cae9b2721">REGISTER_HCSR04_INT_ISR</a>(TIMER,  INT_NUM,  TRIGGER,  ECHO)</td></tr>
<tr class="memdesc:a669cf6b5ffc13aada097587cae9b2721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code>.  <a href="#a669cf6b5ffc13aada097587cae9b2721">More...</a><br /></td></tr>
<tr class="separator:a669cf6b5ffc13aada097587cae9b2721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a25a16ab0d5dda23519eeb8f2a3fabe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a5a25a16ab0d5dda23519eeb8f2a3fabe">REGISTER_HCSR04_PCI_ISR</a>(TIMER,  PCI_NUM,  TRIGGER,  ECHO, ...)</td></tr>
<tr class="memdesc:a5a25a16ab0d5dda23519eeb8f2a3fabe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a set of several <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>.  <a href="#a5a25a16ab0d5dda23519eeb8f2a3fabe">More...</a><br /></td></tr>
<tr class="separator:a5a25a16ab0d5dda23519eeb8f2a3fabe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17710e8c7b1d799fbe0561fca1bfd551"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a17710e8c7b1d799fbe0561fca1bfd551">SONAR_PINS</a>(TRIGGER,  ECHO)&#160;&#160;&#160;devices::sonar::isr_handler::TriggerEcho&lt;TRIGGER, ECHO&gt;</td></tr>
<tr class="memdesc:a17710e8c7b1d799fbe0561fca1bfd551"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro used to build proper arguments for <code><a class="el" href="sonar_8h.html#a68439863637a31628311b26d628c082f" title="Register the necessary ISR (Interrupt Service Routine) for a set of several devices::sonar::HCSR04 to...">REGISTER_DISTINCT_HCSR04_PCI_ISR()</a></code>.  <a href="#a17710e8c7b1d799fbe0561fca1bfd551">More...</a><br /></td></tr>
<tr class="separator:a17710e8c7b1d799fbe0561fca1bfd551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68439863637a31628311b26d628c082f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a68439863637a31628311b26d628c082f">REGISTER_DISTINCT_HCSR04_PCI_ISR</a>(TIMER,  PCI_NUM,  SONAR_PINS1, ...)</td></tr>
<tr class="memdesc:a68439863637a31628311b26d628c082f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a set of several <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>.  <a href="#a68439863637a31628311b26d628c082f">More...</a><br /></td></tr>
<tr class="separator:a68439863637a31628311b26d628c082f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8946d9402a6991bcd422e4e56e2d875"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#ac8946d9402a6991bcd422e4e56e2d875">REGISTER_HCSR04_INT_ISR_METHOD</a>(TIMER,  INT_NUM,  TRIGGER,  ECHO,  HANDLER,  CALLBACK)</td></tr>
<tr class="memdesc:ac8946d9402a6991bcd422e4e56e2d875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code>, and call back a handler's method if the sonar has finished receiving the echo pulse.  <a href="#ac8946d9402a6991bcd422e4e56e2d875">More...</a><br /></td></tr>
<tr class="separator:ac8946d9402a6991bcd422e4e56e2d875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c689dc207e4cc14c81952e6798d4f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a71c689dc207e4cc14c81952e6798d4f0">REGISTER_HCSR04_INT_ISR_FUNCTION</a>(TIMER,  INT_NUM,  TRIGGER,  ECHO,  CALLBACK)</td></tr>
<tr class="memdesc:a71c689dc207e4cc14c81952e6798d4f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code>, along with a callback function that will be notified when the sonar has finished receiving the echo pulse.  <a href="#a71c689dc207e4cc14c81952e6798d4f0">More...</a><br /></td></tr>
<tr class="separator:a71c689dc207e4cc14c81952e6798d4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e79a9ca11e9e91fc368fa489a3aa4d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a3e79a9ca11e9e91fc368fa489a3aa4d8">REGISTER_HCSR04_PCI_ISR_METHOD</a>(TIMER,  PCI_NUM,  TRIGGER,  ECHO,  HANDLER,  CALLBACK)</td></tr>
<tr class="memdesc:a3e79a9ca11e9e91fc368fa489a3aa4d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>, and call back a handler's method if the sonar has finished receiving the echo pulse.  <a href="#a3e79a9ca11e9e91fc368fa489a3aa4d8">More...</a><br /></td></tr>
<tr class="separator:a3e79a9ca11e9e91fc368fa489a3aa4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca28f8f9ecef4de265d0121d13ca6c8c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#aca28f8f9ecef4de265d0121d13ca6c8c">REGISTER_HCSR04_PCI_ISR_FUNCTION</a>(TIMER,  PCI_NUM,  TRIGGER,  ECHO,  CALLBACK)</td></tr>
<tr class="memdesc:aca28f8f9ecef4de265d0121d13ca6c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>, along with a callback function that will be notified when the sonar has finished receiving the echo pulse.  <a href="#aca28f8f9ecef4de265d0121d13ca6c8c">More...</a><br /></td></tr>
<tr class="separator:aca28f8f9ecef4de265d0121d13ca6c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36a8561dfc7a239085ed273e72ba3f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#ac36a8561dfc7a239085ed273e72ba3f7">REGISTER_HCSR04_RTT_TIMEOUT</a>(TIMER_NUM,  SONAR, ...)</td></tr>
<tr class="memdesc:ac36a8561dfc7a239085ed273e72ba3f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a set of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to be notified when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update.  <a href="#ac36a8561dfc7a239085ed273e72ba3f7">More...</a><br /></td></tr>
<tr class="separator:ac36a8561dfc7a239085ed273e72ba3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b4765a3aaa31736c6821d6a928a384a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a6b4765a3aaa31736c6821d6a928a384a">REGISTER_HCSR04_RTT_TIMEOUT_METHOD</a>(TIMER_NUM,  HANDLER,  CALLBACK,  SONAR, ...)</td></tr>
<tr class="memdesc:a6b4765a3aaa31736c6821d6a928a384a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a set of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to be notified, and call back a handler's method, when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update.  <a href="#a6b4765a3aaa31736c6821d6a928a384a">More...</a><br /></td></tr>
<tr class="separator:a6b4765a3aaa31736c6821d6a928a384a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856383dcac08c32d6ae4c84008607da4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a856383dcac08c32d6ae4c84008607da4">REGISTER_HCSR04_RTT_TIMEOUT_FUNCTION</a>(TIMER_NUM,  CALLBACK,  SONAR, ...)</td></tr>
<tr class="memdesc:a856383dcac08c32d6ae4c84008607da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a set of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to be notified, and call back a function, when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update.  <a href="#a856383dcac08c32d6ae4c84008607da4">More...</a><br /></td></tr>
<tr class="separator:a856383dcac08c32d6ae4c84008607da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bbf49fca181e73c8780e5fe68e49f90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a9bbf49fca181e73c8780e5fe68e49f90">REGISTER_MULTI_HCSR04_PCI_ISR_METHOD</a>(TIMER,  PCI_NUM,  TRIGGER,  ECHO_PORT,  ECHO_MASK,  HANDLER,  CALLBACK)</td></tr>
<tr class="memdesc:a9bbf49fca181e73c8780e5fe68e49f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to listen to echo pulses on all sonars connected to it, and call back a handler's method.  <a href="#a9bbf49fca181e73c8780e5fe68e49f90">More...</a><br /></td></tr>
<tr class="separator:a9bbf49fca181e73c8780e5fe68e49f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e550e3a88e29f081b3009d7b462475e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a2e550e3a88e29f081b3009d7b462475e">REGISTER_MULTI_HCSR04_PCI_ISR_FUNCTION</a>(TIMER,  PCI_NUM,  TRIGGER,  ECHO_PORT,  ECHO_MASK,  CALLBACK)</td></tr>
<tr class="memdesc:a2e550e3a88e29f081b3009d7b462475e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to listen to echo pulses on all sonars connected to it, and call back a function.  <a href="#a2e550e3a88e29f081b3009d7b462475e">More...</a><br /></td></tr>
<tr class="separator:a2e550e3a88e29f081b3009d7b462475e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5344136bf09598861c164a152c9694"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a2e5344136bf09598861c164a152c9694">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_METHOD</a>(TIMER_NUM,  SONAR,  HANDLER,  CALLBACK)</td></tr>
<tr class="memdesc:a2e5344136bf09598861c164a152c9694"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to be notified, and call back a handler's method, when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update.  <a href="#a2e5344136bf09598861c164a152c9694">More...</a><br /></td></tr>
<tr class="separator:a2e5344136bf09598861c164a152c9694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a9689da1c2cb01a59ea8a6bde709ade"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a3a9689da1c2cb01a59ea8a6bde709ade">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_FUNCTION</a>(TIMER_NUM,  SONAR,  CALLBACK)</td></tr>
<tr class="memdesc:a3a9689da1c2cb01a59ea8a6bde709ade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to be notified, and call back a function, when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update.  <a href="#a3a9689da1c2cb01a59ea8a6bde709ade">More...</a><br /></td></tr>
<tr class="separator:a3a9689da1c2cb01a59ea8a6bde709ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16fb5a94c4ec0a8909528ec8592564e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a16fb5a94c4ec0a8909528ec8592564e8">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_TRIGGER_METHOD</a>(TIMER_NUM,  SONAR,  HANDLER,  CB_TIMEOUT,  CB_RTT)</td></tr>
<tr class="memdesc:a16fb5a94c4ec0a8909528ec8592564e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to be notified, and call back one of two handler's methods, for each of the following events:  <a href="#a16fb5a94c4ec0a8909528ec8592564e8">More...</a><br /></td></tr>
<tr class="separator:a16fb5a94c4ec0a8909528ec8592564e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19777a99a5fd97d4fed4561306f0f869"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a19777a99a5fd97d4fed4561306f0f869">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_TRIGGER_FUNCTION</a>(TIMER_NUM,  SONAR,  CB_TIMEOUT,  CB_RTT)</td></tr>
<tr class="memdesc:a19777a99a5fd97d4fed4561306f0f869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to be notified, and call back one of two functions, for each of the following events:  <a href="#a19777a99a5fd97d4fed4561306f0f869">More...</a><br /></td></tr>
<tr class="separator:a19777a99a5fd97d4fed4561306f0f869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7a29b725906be15817aa805fc18f15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a5f7a29b725906be15817aa805fc18f15">DECL_SONAR_ISR_HANDLERS_FRIEND</a></td></tr>
<tr class="memdesc:a5f7a29b725906be15817aa805fc18f15"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro shall be used in a class containing a private callback method, registered by one (or more) of:  <a href="#a5f7a29b725906be15817aa805fc18f15">More...</a><br /></td></tr>
<tr class="separator:a5f7a29b725906be15817aa805fc18f15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1609913f480a742890ace74e1882ac5e"><td class="memTemplParams" colspan="2">template&lt;board::Timer NTIMER_, board::DigitalPin TRIGGER_, board::DigitalPin ECHO_&gt; </td></tr>
<tr class="memitem:a1609913f480a742890ace74e1882ac5e"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a1609913f480a742890ace74e1882ac5e">devices::sonar::BLOCKING_HCSR04</a> = HCSR04&lt; NTIMER_, TRIGGER_, ECHO_, SonarType::BLOCKING &gt;</td></tr>
<tr class="memdesc:a1609913f480a742890ace74e1882ac5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This template class supports one HC-SR04 sonar (or equivalent sensor), connected to the MCU via 2 pins.  <a href="sonar_8h.html#a1609913f480a742890ace74e1882ac5e">More...</a><br /></td></tr>
<tr class="separator:a1609913f480a742890ace74e1882ac5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a549182f59f1965da0341ffc4137f3a1e"><td class="memTemplParams" colspan="2">template&lt;board::Timer NTIMER_, board::DigitalPin TRIGGER_, board::ExternalInterruptPin ECHO_&gt; </td></tr>
<tr class="memitem:a549182f59f1965da0341ffc4137f3a1e"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a549182f59f1965da0341ffc4137f3a1e">devices::sonar::ASYNC_INT_HCSR04</a> = HCSR04&lt; NTIMER_, TRIGGER_, <a class="el" href="namespaceboard.html#a8a587b48884f6b62938abfbcf1484130">board::EXT_PIN</a>&lt; ECHO_ &gt;(), SonarType::ASYNC_INT &gt;</td></tr>
<tr class="memdesc:a549182f59f1965da0341ffc4137f3a1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This template class supports one HC-SR04 sonar (or equivalent sensor), connected to the MCU via 2 pins.  <a href="sonar_8h.html#a549182f59f1965da0341ffc4137f3a1e">More...</a><br /></td></tr>
<tr class="separator:a549182f59f1965da0341ffc4137f3a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bba9656cf69f00d94ab7b571be82457"><td class="memTemplParams" colspan="2">template&lt;board::Timer NTIMER_, board::DigitalPin TRIGGER_, board::InterruptPin ECHO_&gt; </td></tr>
<tr class="memitem:a7bba9656cf69f00d94ab7b571be82457"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a7bba9656cf69f00d94ab7b571be82457">devices::sonar::ASYNC_PCINT_HCSR04</a> = HCSR04&lt; NTIMER_, TRIGGER_, <a class="el" href="namespaceboard.html#a817ea24e897a7672b250053baec872a4">board::PCI_PIN</a>&lt; ECHO_ &gt;(), SonarType::ASYNC_PCINT &gt;</td></tr>
<tr class="memdesc:a7bba9656cf69f00d94ab7b571be82457"><td class="mdescLeft">&#160;</td><td class="mdescRight">This template class supports one HC-SR04 sonar (or equivalent sensor), connected to the MCU via 2 pins.  <a href="sonar_8h.html#a7bba9656cf69f00d94ab7b571be82457">More...</a><br /></td></tr>
<tr class="separator:a7bba9656cf69f00d94ab7b571be82457"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aaf92144d703d09314a02aaf53bdc9b74"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#aaf92144d703d09314a02aaf53bdc9b74">devices::sonar::SonarType</a> : uint8_t { <br />
&#160;&#160;<b>devices::sonar::SonarType::BLOCKING</b>, 
<br />
&#160;&#160;<b>devices::sonar::SonarType::ASYNC_INT</b>, 
<br />
&#160;&#160;<b>devices::sonar::SonarType::ASYNC_PCINT</b>
<br />
 }</td></tr>
<tr class="memdesc:aaf92144d703d09314a02aaf53bdc9b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">This enum defines the different modes, supported by <code>HCSR04</code>, to calculate the echo pin pulse duration.  <a href="sonar_8h.html#aaf92144d703d09314a02aaf53bdc9b74">More...</a><br /></td></tr>
<tr class="separator:aaf92144d703d09314a02aaf53bdc9b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad1f46b1fd69d9c8c486867572a3cfd89"><td class="memItemLeft" align="right" valign="top">static constexpr uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#ad1f46b1fd69d9c8c486867572a3cfd89">devices::sonar::echo_us_to_distance_mm</a> (uint16_t echo_us)</td></tr>
<tr class="memdesc:ad1f46b1fd69d9c8c486867572a3cfd89"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method converts the echo duration, in microseconds, to the distance between the sensor and the reflecting obstacle, in millimeters.  <a href="sonar_8h.html#ad1f46b1fd69d9c8c486867572a3cfd89">More...</a><br /></td></tr>
<tr class="separator:ad1f46b1fd69d9c8c486867572a3cfd89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3bc97f71928347fa7b883f166235916"><td class="memItemLeft" align="right" valign="top">static constexpr uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#af3bc97f71928347fa7b883f166235916">devices::sonar::distance_mm_to_echo_us</a> (uint16_t distance_mm)</td></tr>
<tr class="memdesc:af3bc97f71928347fa7b883f166235916"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method converts the disatnce, in millimeters, between the sensor and a reflecting object, into the expected echo duration, in microseconds.  <a href="sonar_8h.html#af3bc97f71928347fa7b883f166235916">More...</a><br /></td></tr>
<tr class="separator:af3bc97f71928347fa7b883f166235916"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a45348626a8f4f1dad995f9376cc92770"><td class="memItemLeft" align="right" valign="top">static constexpr const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8h.html#a45348626a8f4f1dad995f9376cc92770">devices::sonar::SPEED_OF_SOUND</a> = 340UL</td></tr>
<tr class="memdesc:a45348626a8f4f1dad995f9376cc92770"><td class="mdescLeft">&#160;</td><td class="mdescRight">The approximate speed of sound (and ultrasonic) waves, in the air, expressed in meters per second.  <a href="sonar_8h.html#a45348626a8f4f1dad995f9376cc92770">More...</a><br /></td></tr>
<tr class="separator:a45348626a8f4f1dad995f9376cc92770"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>API to handle ultrasonic distance rangers (aka "sonar") such as the HC-SR04. </p>

<p class="definition">Definition in file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a669cf6b5ffc13aada097587cae9b2721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a669cf6b5ffc13aada097587cae9b2721">&#9670;&nbsp;</a></span>REGISTER_HCSR04_INT_ISR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_INT_ISR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">INT_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(INT, INT_NUM, _vect))                                               \</div><div class="line">    {                                                                            \</div><div class="line">        devices::sonar::isr_handler::sonar_int&lt;INT_NUM, TIMER, TRIGGER, ECHO&gt;(); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">INT_NUM</td><td>the number of the <code>INT</code> vector for the <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sonar trigger pin </td></tr>
    <tr><td class="paramname">ECHO</td><td>the <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code> connected to the sonar echo pin</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00046">46</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a5a25a16ab0d5dda23519eeb8f2a3fabe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a25a16ab0d5dda23519eeb8f2a3fabe">&#9670;&nbsp;</a></span>REGISTER_HCSR04_PCI_ISR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_PCI_ISR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PCI_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(PCINT, PCI_NUM, _vect))                                                            \</div><div class="line">    {                                                                                           \</div><div class="line">        devices::sonar::isr_handler::sonar_pci&lt;PCI_NUM, TIMER, TRIGGER, ECHO, ##__VA_ARGS__&gt;(); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a set of several <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>. </p>
<p>This macro supports registration of an ISR for several <code>HCSR04</code>, sharing one single trigger pin, and having all echo pins on the same port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">PCI_NUM</td><td>the number of the <code>PCINT</code> vector for the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sonar trigger pin </td></tr>
    <tr><td class="paramname">ECHO</td><td>the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the sonar echo pin </td></tr>
    <tr><td class="paramname">...</td><td>other echo pins for other <code>HCSR04</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a68439863637a31628311b26d628c082f" title="Register the necessary ISR (Interrupt Service Routine) for a set of several devices::sonar::HCSR04 to...">REGISTER_DISTINCT_HCSR04_PCI_ISR()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00070">70</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a17710e8c7b1d799fbe0561fca1bfd551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17710e8c7b1d799fbe0561fca1bfd551">&#9670;&nbsp;</a></span>SONAR_PINS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SONAR_PINS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;devices::sonar::isr_handler::TriggerEcho&lt;TRIGGER, ECHO&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro used to build proper arguments for <code><a class="el" href="sonar_8h.html#a68439863637a31628311b26d628c082f" title="Register the necessary ISR (Interrupt Service Routine) for a set of several devices::sonar::HCSR04 to...">REGISTER_DISTINCT_HCSR04_PCI_ISR()</a></code>. </p>
<p>Each constructed argument is actually a pair of pins, one <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> (the trigger pin of the sonar), one <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> (the echo pin of the sonar). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the trigger pin of the sonar </td></tr>
    <tr><td class="paramname">ECHO</td><td>the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the echo pin of the sonar</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="sonar_8h.html#a68439863637a31628311b26d628c082f" title="Register the necessary ISR (Interrupt Service Routine) for a set of several devices::sonar::HCSR04 to...">REGISTER_DISTINCT_HCSR04_PCI_ISR()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00086">86</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a68439863637a31628311b26d628c082f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68439863637a31628311b26d628c082f">&#9670;&nbsp;</a></span>REGISTER_DISTINCT_HCSR04_PCI_ISR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_DISTINCT_HCSR04_PCI_ISR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PCI_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SONAR_PINS1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(PCINT, PCI_NUM, _vect))                                                                   \</div><div class="line">    {                                                                                                  \</div><div class="line">        devices::sonar::isr_handler::sonar_distinct_pci&lt;PCI_NUM, TIMER, SONAR_PINS1, ##__VA_ARGS__&gt;(); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a set of several <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>. </p>
<p>This macro supports registration of an ISR for several <code>HCSR04</code>, using distinct trigger pins, but having all echo pins on the same port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">PCI_NUM</td><td>the number of the <code>PCINT</code> vector for the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">SONAR_PINS1</td><td>the pair of pins connected to the 1st sonar; this is a specific type, created by <code><a class="el" href="sonar_8h.html#a17710e8c7b1d799fbe0561fca1bfd551" title="Macro used to build proper arguments for REGISTER_DISTINCT_HCSR04_PCI_ISR().">SONAR_PINS()</a></code> macro. </td></tr>
    <tr><td class="paramname">...</td><td>other pairs of (trigger pin, echo pin) for other <code>HCSR04</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a17710e8c7b1d799fbe0561fca1bfd551" title="Macro used to build proper arguments for REGISTER_DISTINCT_HCSR04_PCI_ISR().">SONAR_PINS()</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a5a25a16ab0d5dda23519eeb8f2a3fabe" title="Register the necessary ISR (Interrupt Service Routine) for a set of several devices::sonar::HCSR04 to...">REGISTER_HCSR04_PCI_ISR()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00107">107</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="ac8946d9402a6991bcd422e4e56e2d875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8946d9402a6991bcd422e4e56e2d875">&#9670;&nbsp;</a></span>REGISTER_HCSR04_INT_ISR_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_INT_ISR_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">INT_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">HANDLER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(INT, INT_NUM, _vect))                                                                         \</div><div class="line">    {                                                                                                      \</div><div class="line">        devices::sonar::isr_handler::sonar_int_method&lt;INT_NUM, TIMER, TRIGGER, ECHO, HANDLER, CALLBACK&gt;(); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code>, and call back a handler's method if the sonar has finished receiving the echo pulse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">INT_NUM</td><td>the number of the <code>INT</code> vector for the <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sonar trigger pin </td></tr>
    <tr><td class="paramname">ECHO</td><td>the <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code> connected to the sonar echo pin </td></tr>
    <tr><td class="paramname">HANDLER</td><td>the class holding the callback method </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the method of <code>HANDLER</code> that will be called when the sonar has received the echo pulse; this must be a proper PTMF (pointer to member function).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a669cf6b5ffc13aada097587cae9b2721" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::HCSR04 to listen to echo...">REGISTER_HCSR04_INT_ISR()</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a71c689dc207e4cc14c81952e6798d4f0" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::HCSR04 to listen to echo...">REGISTER_HCSR04_INT_ISR_FUNCTION()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00133">133</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a71c689dc207e4cc14c81952e6798d4f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71c689dc207e4cc14c81952e6798d4f0">&#9670;&nbsp;</a></span>REGISTER_HCSR04_INT_ISR_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_INT_ISR_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">INT_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(INT, INT_NUM, _vect))                                                                  \</div><div class="line">    {                                                                                               \</div><div class="line">        devices::sonar::isr_handler::sonar_int_function&lt;INT_NUM, TIMER, TRIGGER, ECHO, CALLBACK&gt;(); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code>, along with a callback function that will be notified when the sonar has finished receiving the echo pulse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">INT_NUM</td><td>the number of the <code>INT</code> vector for the <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sonar trigger pin </td></tr>
    <tr><td class="paramname">ECHO</td><td>the <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code> connected to the sonar echo pin </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the function that will be called when the sonar has received the echo pulse</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a669cf6b5ffc13aada097587cae9b2721" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::HCSR04 to listen to echo...">REGISTER_HCSR04_INT_ISR()</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#ac8946d9402a6991bcd422e4e56e2d875" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::HCSR04 to listen to echo...">REGISTER_HCSR04_INT_ISR_METHOD()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00157">157</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a3e79a9ca11e9e91fc368fa489a3aa4d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e79a9ca11e9e91fc368fa489a3aa4d8">&#9670;&nbsp;</a></span>REGISTER_HCSR04_PCI_ISR_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_PCI_ISR_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PCI_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">HANDLER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(PCINT, PCI_NUM, _vect))                                                                       \</div><div class="line">    {                                                                                                      \</div><div class="line">        devices::sonar::isr_handler::sonar_pci_method&lt;PCI_NUM, TIMER, TRIGGER, ECHO, HANDLER, CALLBACK&gt;(); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>, and call back a handler's method if the sonar has finished receiving the echo pulse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">PCI_NUM</td><td>the number of the <code>PCINT</code> vector for the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sonar trigger pin </td></tr>
    <tr><td class="paramname">ECHO</td><td>the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the sonar echo pin </td></tr>
    <tr><td class="paramname">HANDLER</td><td>the class holding the callback method </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the method of <code>HANDLER</code> that will be called when the sonar has received the echo pulse; this must be a proper PTMF (pointer to member function).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a68439863637a31628311b26d628c082f" title="Register the necessary ISR (Interrupt Service Routine) for a set of several devices::sonar::HCSR04 to...">REGISTER_DISTINCT_HCSR04_PCI_ISR()</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a5a25a16ab0d5dda23519eeb8f2a3fabe" title="Register the necessary ISR (Interrupt Service Routine) for a set of several devices::sonar::HCSR04 to...">REGISTER_HCSR04_PCI_ISR()</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#aca28f8f9ecef4de265d0121d13ca6c8c" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::HCSR04 to listen to echo...">REGISTER_HCSR04_PCI_ISR_FUNCTION()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00185">185</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="aca28f8f9ecef4de265d0121d13ca6c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca28f8f9ecef4de265d0121d13ca6c8c">&#9670;&nbsp;</a></span>REGISTER_HCSR04_PCI_ISR_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_PCI_ISR_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PCI_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(PCINT, PCI_NUM, _vect))                                                                \</div><div class="line">    {                                                                                               \</div><div class="line">        devices::sonar::isr_handler::sonar_pci_function&lt;PCI_NUM, TIMER, TRIGGER, ECHO, CALLBACK&gt;(); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to listen to echo pulses when the echo pin is a <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>, along with a callback function that will be notified when the sonar has finished receiving the echo pulse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">PCI_NUM</td><td>the number of the <code>PCINT</code> vector for the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sonar trigger pin </td></tr>
    <tr><td class="paramname">ECHO</td><td>the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the sonar echo pin </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the function that will be called when the sonar has received the echo pulse</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a5a25a16ab0d5dda23519eeb8f2a3fabe" title="Register the necessary ISR (Interrupt Service Routine) for a set of several devices::sonar::HCSR04 to...">REGISTER_HCSR04_PCI_ISR()</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a3e79a9ca11e9e91fc368fa489a3aa4d8" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::HCSR04 to listen to echo...">REGISTER_HCSR04_PCI_ISR_METHOD()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00210">210</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="ac36a8561dfc7a239085ed273e72ba3f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac36a8561dfc7a239085ed273e72ba3f7">&#9670;&nbsp;</a></span>REGISTER_HCSR04_RTT_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_RTT_TIMEOUT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SONAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(TIMER, TIMER_NUM, _COMPA_vect))                                              \</div><div class="line">    {                                                                                     \</div><div class="line">        devices::sonar::isr_handler::sonar_rtt_change&lt;TIMER_NUM, SONAR, ##__VA_ARGS__&gt;(); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a set of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to be notified when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER_NUM</td><td>the number of the TIMER feature for the target MCU </td></tr>
    <tr><td class="paramname">SONAR</td><td>the actual type of the first sonar to notify (instantiated template of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code>) </td></tr>
    <tr><td class="paramname">...</td><td>the actual types of other sonars to notify</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
HCSR04::echo_us() </dd>
<dd>
HCSR04::await_echo_us() </dd>
<dd>
HCSR04::async_echo() </dd>
<dd>
<a class="el" href="realtime__timer_8h.html#afc2dfeccc5d417ae872d836d4cfb5d8c" title="Register the necessary ISR (Interrupt Service Routine) for a timer::RTT to work properly.">REGISTER_RTT_ISR()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00232">232</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a6b4765a3aaa31736c6821d6a928a384a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b4765a3aaa31736c6821d6a928a384a">&#9670;&nbsp;</a></span>REGISTER_HCSR04_RTT_TIMEOUT_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_RTT_TIMEOUT_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">HANDLER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SONAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(TIMER, TIMER_NUM, _COMPA_vect))                                                  \</div><div class="line">    {                                                                                         \</div><div class="line">        if (devices::sonar::isr_handler::sonar_rtt_change&lt;TIMER_NUM, SONAR, ##__VA_ARGS__&gt;()) \</div><div class="line">            interrupt::CallbackHandler&lt;void (HANDLER::*)(), CALLBACK&gt;::call();                \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a set of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to be notified, and call back a handler's method, when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER_NUM</td><td>the number of the TIMER feature for the target MCU </td></tr>
    <tr><td class="paramname">HANDLER</td><td>the class holding the callback method </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the function that will be called when the timeout has occurred </td></tr>
    <tr><td class="paramname">SONAR</td><td>the actual type of the first sonar to notify (instantiated template of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code>) </td></tr>
    <tr><td class="paramname">...</td><td>the actual types of other sonars to notify</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
HCSR04::echo_us() </dd>
<dd>
HCSR04::await_echo_us() </dd>
<dd>
HCSR04::async_echo() </dd>
<dd>
<a class="el" href="sonar_8h.html#ac36a8561dfc7a239085ed273e72ba3f7" title="Register the necessary ISR (Interrupt Service Routine) for a set of devices::sonar::HCSR04 to be noti...">REGISTER_HCSR04_RTT_TIMEOUT()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00257">257</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a856383dcac08c32d6ae4c84008607da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a856383dcac08c32d6ae4c84008607da4">&#9670;&nbsp;</a></span>REGISTER_HCSR04_RTT_TIMEOUT_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_HCSR04_RTT_TIMEOUT_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SONAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(TIMER, TIMER_NUM, _COMPA_vect))                                                  \</div><div class="line">    {                                                                                         \</div><div class="line">        if (devices::sonar::isr_handler::sonar_rtt_change&lt;TIMER_NUM, SONAR, ##__VA_ARGS__&gt;()) \</div><div class="line">            interrupt::CallbackHandler&lt;void (*)(), CALLBACK&gt;::call();                         \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a set of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code> to be notified, and call back a function, when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER_NUM</td><td>the number of the TIMER feature for the target MCU </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the function that will be called when the timeout has occurred </td></tr>
    <tr><td class="paramname">SONAR</td><td>the actual type of the first sonar to notify (instantiated template of <code><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a></code>) </td></tr>
    <tr><td class="paramname">...</td><td>the actual types of other sonars to notify</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_h_c_s_r04.html">devices::sonar::HCSR04</a> </dd>
<dd>
HCSR04::echo_us() </dd>
<dd>
HCSR04::await_echo_us() </dd>
<dd>
HCSR04::async_echo() </dd>
<dd>
<a class="el" href="sonar_8h.html#ac36a8561dfc7a239085ed273e72ba3f7" title="Register the necessary ISR (Interrupt Service Routine) for a set of devices::sonar::HCSR04 to be noti...">REGISTER_HCSR04_RTT_TIMEOUT()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00282">282</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a9bbf49fca181e73c8780e5fe68e49f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bbf49fca181e73c8780e5fe68e49f90">&#9670;&nbsp;</a></span>REGISTER_MULTI_HCSR04_PCI_ISR_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_MULTI_HCSR04_PCI_ISR_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PCI_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO_PORT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO_MASK, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">HANDLER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(PCINT, PCI_NUM, _vect))                                                                           \</div><div class="line">    {                                                                                                          \</div><div class="line">        using ISRHANDLER = devices::sonar::isr_handler;                                                        \</div><div class="line">        ISRHANDLER::multi_sonar_pci_method&lt;PCI_NUM, TIMER, TRIGGER, ECHO_PORT, ECHO_MASK, HANDLER, CALLBACK&gt;();\</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to listen to echo pulses on all sonars connected to it, and call back a handler's method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">PCI_NUM</td><td>the number of the <code>PCINT</code> vector for the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sonars trigger pins </td></tr>
    <tr><td class="paramname">ECHO_PORT</td><td>the <code><a class="el" href="namespaceboard.html#a151323e5de5adf93f6bcdfdd64fa1eb1" title="Defines all available ports of the target MCU.">board::Port</a></code> connected to all sonar echo pins </td></tr>
    <tr><td class="paramname">ECHO_MASK</td><td>the mask to apply to <code>ECHO_PORT</code> to define which pins of this port are connected to a sonar </td></tr>
    <tr><td class="paramname">HANDLER</td><td>the class holding the callback method </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the method of <code>HANDLER</code> that will be called when one sonar echo pin changes level, i.e. when a leading or trailing edge of the echo pulse is received; this must be a proper PTMF (pointer to member function) which takes one argument of type <code>const SonarEvent&lt;TIMER&gt;&amp;</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a> </dd>
<dd>
<a class="el" href="structdevices_1_1sonar_1_1_sonar_event.html" title="This type holds information about events occurring within MultiHCSR04 handler.">devices::sonar::SonarEvent</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a2e550e3a88e29f081b3009d7b462475e" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::MultiHCSR04 to listen to...">REGISTER_MULTI_HCSR04_PCI_ISR_FUNCTION()</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a2e5344136bf09598861c164a152c9694" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::MultiHCSR04 to be notifi...">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_METHOD()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00313">313</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a2e550e3a88e29f081b3009d7b462475e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e550e3a88e29f081b3009d7b462475e">&#9670;&nbsp;</a></span>REGISTER_MULTI_HCSR04_PCI_ISR_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_MULTI_HCSR04_PCI_ISR_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PCI_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TRIGGER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO_PORT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ECHO_MASK, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(PCINT, PCI_NUM, _vect))                                                                    \</div><div class="line">    {                                                                                                   \</div><div class="line">        using ISRHANDLER = devices::sonar::isr_handler;                                                 \</div><div class="line">        ISRHANDLER::multi_sonar_pci_function&lt;PCI_NUM, TIMER, TRIGGER, ECHO_PORT, ECHO_MASK, CALLBACK&gt;();\</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to listen to echo pulses on all sonars connected to it, and call back a function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER</td><td>the <code><a class="el" href="namespaceboard.html#aa6b4a447b2fccb95185367644c3f28bb" title="Defines all timers available for target MCU.">board::Timer</a></code> type used to instantiate the <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> template class. </td></tr>
    <tr><td class="paramname">PCI_NUM</td><td>the number of the <code>PCINT</code> vector for the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the echo pin </td></tr>
    <tr><td class="paramname">TRIGGER</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sonars trigger pins </td></tr>
    <tr><td class="paramname">ECHO_PORT</td><td>the <code><a class="el" href="namespaceboard.html#a151323e5de5adf93f6bcdfdd64fa1eb1" title="Defines all available ports of the target MCU.">board::Port</a></code> connected to all sonar echo pins </td></tr>
    <tr><td class="paramname">ECHO_MASK</td><td>the mask to apply to <code>ECHO_PORT</code> to define which pins of this port are connected to a sonar </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the function that will be called when one sonar echo pin changes level, i.e. when a leading or trailing edge of the echo pulse is received; this must take one argument of type <code>const SonarEvent&lt;TIMER&gt;&amp;</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a> </dd>
<dd>
<a class="el" href="structdevices_1_1sonar_1_1_sonar_event.html" title="This type holds information about events occurring within MultiHCSR04 handler.">devices::sonar::SonarEvent</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a9bbf49fca181e73c8780e5fe68e49f90" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::MultiHCSR04 to listen to...">REGISTER_MULTI_HCSR04_PCI_ISR_METHOD()</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a3a9689da1c2cb01a59ea8a6bde709ade" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::MultiHCSR04 to be notifi...">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_FUNCTION()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00342">342</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a2e5344136bf09598861c164a152c9694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5344136bf09598861c164a152c9694">&#9670;&nbsp;</a></span>REGISTER_MULTI_HCSR04_RTT_TIMEOUT_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_MULTI_HCSR04_RTT_TIMEOUT_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SONAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">HANDLER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(TIMER, TIMER_NUM, _COMPA_vect))                                                                     \</div><div class="line">    {                                                                                                            \</div><div class="line">        using EVENT = <span class="keyword">typename</span> SONAR::EVENT;                                                                     \</div><div class="line">        EVENT <span class="keyword">event</span> = devices::sonar::isr_handler::multi_sonar_rtt_change&lt;TIMER_NUM, SONAR, EVENT&gt;();            \</div><div class="line">        if (event.timeout()) interrupt::CallbackHandler&lt;<span class="keywordtype">void</span> (HANDLER::*)(<span class="keyword">const</span> EVENT&amp;), CALLBACK&gt;::call(event); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to be notified, and call back a handler's method, when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER_NUM</td><td>the number of the TIMER feature for the target MCU </td></tr>
    <tr><td class="paramname">SONAR</td><td>the actual type of the <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> for which this ISR is registered </td></tr>
    <tr><td class="paramname">HANDLER</td><td>the class holding the callback method </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the method of <code>HANDLER</code> that will be called when a timeout occurs; this must be a proper PTMF (pointer to member function) which takes one argument of type <code>const SonarEvent&lt;TIMER&gt;&amp;</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a> </dd>
<dd>
<a class="el" href="structdevices_1_1sonar_1_1_sonar_event.html" title="This type holds information about events occurring within MultiHCSR04 handler.">devices::sonar::SonarEvent</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a3a9689da1c2cb01a59ea8a6bde709ade" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::MultiHCSR04 to be notifi...">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_FUNCTION()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00367">367</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a3a9689da1c2cb01a59ea8a6bde709ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a9689da1c2cb01a59ea8a6bde709ade">&#9670;&nbsp;</a></span>REGISTER_MULTI_HCSR04_RTT_TIMEOUT_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_MULTI_HCSR04_RTT_TIMEOUT_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SONAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CALLBACK&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(TIMER, TIMER_NUM, _COMPA_vect))                                                            \</div><div class="line">    {                                                                                                   \</div><div class="line">        using EVENT = <span class="keyword">typename</span> SONAR::EVENT;                                                            \</div><div class="line">        EVENT <span class="keyword">event</span> = devices::sonar::isr_handler::multi_sonar_rtt_change&lt;TIMER_NUM, SONAR, EVENT&gt;();   \</div><div class="line">        if (event.timeout()) interrupt::CallbackHandler&lt;<span class="keywordtype">void</span> (*)(<span class="keyword">const</span> EVENT&amp;), CALLBACK&gt;::call(event); \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to be notified, and call back a function, when a timeout occurs; this ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER_NUM</td><td>the number of the TIMER feature for the target MCU </td></tr>
    <tr><td class="paramname">SONAR</td><td>the actual type of the <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> for which this ISR is registered </td></tr>
    <tr><td class="paramname">CALLBACK</td><td>the function that will be called when a timeout occurs; this must take one argument of type <code>const SonarEvent&lt;TIMER&gt;&amp;</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a> </dd>
<dd>
<a class="el" href="structdevices_1_1sonar_1_1_sonar_event.html" title="This type holds information about events occurring within MultiHCSR04 handler.">devices::sonar::SonarEvent</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a2e5344136bf09598861c164a152c9694" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::MultiHCSR04 to be notifi...">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_METHOD()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00391">391</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a16fb5a94c4ec0a8909528ec8592564e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16fb5a94c4ec0a8909528ec8592564e8">&#9670;&nbsp;</a></span>REGISTER_MULTI_HCSR04_RTT_TIMEOUT_TRIGGER_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_MULTI_HCSR04_RTT_TIMEOUT_TRIGGER_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SONAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">HANDLER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CB_TIMEOUT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CB_RTT&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(TIMER, TIMER_NUM, _COMPA_vect))                                                            \</div><div class="line">    {                                                                                                   \</div><div class="line">        using EVENT = <span class="keyword">typename</span> SONAR::EVENT;                                                            \</div><div class="line">        EVENT <span class="keyword">event</span> = devices::sonar::isr_handler::multi_sonar_rtt_change&lt;TIMER_NUM, SONAR, EVENT&gt;();   \</div><div class="line">        if (event.timeout())                                                                            \</div><div class="line">            interrupt::CallbackHandler&lt;<span class="keywordtype">void</span> (HANDLER::*)(<span class="keyword">const</span> EVENT&amp;), CB_TIMEOUT&gt;::call(event);       \</div><div class="line">        interrupt::CallbackHandler&lt;void (HANDLER::*)(), CB_RTT&gt;::call();                                \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to be notified, and call back one of two handler's methods, for each of the following events: </p>
<ul>
<li>a range timeout occurs</li>
<li>the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> is updated (one ms elapsed) This ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER_NUM</td><td>the number of the TIMER feature for the target MCU </td></tr>
    <tr><td class="paramname">SONAR</td><td>the actual type of the <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> for which this ISR is registered </td></tr>
    <tr><td class="paramname">HANDLER</td><td>the class holding the callback method </td></tr>
    <tr><td class="paramname">CB_TIMEOUT</td><td>the method of <code>HANDLER</code> that will be called when a timeout occurs; this must be a proper PTMF (pointer to member function) which takes one argument of type <code>const SonarEvent&lt;TIMER&gt;&amp;</code>. </td></tr>
    <tr><td class="paramname">CB_RTT</td><td>the method of <code>HANDLER</code> that will be called when the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> is updated; this must be a proper PTMF (pointer to member function) which takes no argument. This is typically used by <code>HANDLER</code> to retrigger sonars ranging on a periodic basis.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a> </dd>
<dd>
<a class="el" href="structdevices_1_1sonar_1_1_sonar_event.html" title="This type holds information about events occurring within MultiHCSR04 handler.">devices::sonar::SonarEvent</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a19777a99a5fd97d4fed4561306f0f869" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::MultiHCSR04 to be notifi...">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_TRIGGER_FUNCTION()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00423">423</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a19777a99a5fd97d4fed4561306f0f869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19777a99a5fd97d4fed4561306f0f869">&#9670;&nbsp;</a></span>REGISTER_MULTI_HCSR04_RTT_TIMEOUT_TRIGGER_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGISTER_MULTI_HCSR04_RTT_TIMEOUT_TRIGGER_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TIMER_NUM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SONAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CB_TIMEOUT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CB_RTT&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ISR(CAT3(TIMER, TIMER_NUM, _COMPA_vect))                                                            \</div><div class="line">    {                                                                                                   \</div><div class="line">        using EVENT = <span class="keyword">typename</span> SONAR::EVENT;                                                            \</div><div class="line">        EVENT <span class="keyword">event</span> = devices::sonar::isr_handler::multi_sonar_rtt_change&lt;TIMER_NUM, SONAR, EVENT&gt;();   \</div><div class="line">        if (event.timeout())                                                                            \</div><div class="line">            interrupt::CallbackHandler&lt;<span class="keywordtype">void</span> (*)(<span class="keyword">const</span> EVENT&amp;), CB_TIMEOUT&gt;::call(event);                \</div><div class="line">        interrupt::CallbackHandler&lt;void (*)(), CB_RTT&gt;::call();                                         \</div><div class="line">    }</div></div><!-- fragment -->
<p>Register the necessary ISR (Interrupt Service Routine) for a <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> to be notified, and call back one of two functions, for each of the following events: </p>
<ul>
<li>a range timeout occurs</li>
<li>the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> is updated (one ms elapsed) This ISR is also in charge of the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> time update.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TIMER_NUM</td><td>the number of the TIMER feature for the target MCU </td></tr>
    <tr><td class="paramname">SONAR</td><td>the actual type of the <code><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a></code> for which this ISR is registered </td></tr>
    <tr><td class="paramname">CB_TIMEOUT</td><td>the function that will be called when a timeout occurs; this must take one argument of type <code>const SonarEvent&lt;TIMER&gt;&amp;</code>. </td></tr>
    <tr><td class="paramname">CB_RTT</td><td>the function that will be called when the associated <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> is updated; this must take no argument. This is typically used to retrigger sonars ranging on a periodic basis.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdevices_1_1sonar_1_1_multi_h_c_s_r04.html" title="This template class supports up to 8 HC-SR04 sonars (or equivalent sensors), with their trigger pins ...">devices::sonar::MultiHCSR04</a> </dd>
<dd>
<a class="el" href="structdevices_1_1sonar_1_1_sonar_event.html" title="This type holds information about events occurring within MultiHCSR04 handler.">devices::sonar::SonarEvent</a> </dd>
<dd>
<a class="el" href="sonar_8h.html#a16fb5a94c4ec0a8909528ec8592564e8" title="Register the necessary ISR (Interrupt Service Routine) for a devices::sonar::MultiHCSR04 to be notifi...">REGISTER_MULTI_HCSR04_RTT_TIMEOUT_TRIGGER_METHOD()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00454">454</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="a5f7a29b725906be15817aa805fc18f15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f7a29b725906be15817aa805fc18f15">&#9670;&nbsp;</a></span>DECL_SONAR_ISR_HANDLERS_FRIEND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECL_SONAR_ISR_HANDLERS_FRIEND</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">friend</span> <span class="keyword">struct </span>devices::sonar::isr_handler; \</div><div class="line">    DECL_INT_ISR_FRIENDS                       \</div><div class="line">    DECL_PCINT_ISR_FRIENDS                     \</div><div class="line">    DECL_TIMER_COMP_FRIENDS</div></div><!-- fragment -->
<p>This macro shall be used in a class containing a private callback method, registered by one (or more) of: </p>
<ul>
<li><code>REGISTER_HCSR04_INT_ISR_METHOD</code></li>
<li><code>REGISTER_HCSR04_PCI_ISR_METHOD</code></li>
<li><code>REGISTER_HCSR04_RTT_TIMEOUT_METHOD</code></li>
<li><code>REGISTER_MULTI_HCSR04_PCI_ISR_METHOD</code></li>
<li><code>REGISTER_MULTI_HCSR04_RTT_TIMEOUT_METHOD</code></li>
</ul>
<p>It declares the class where it is used as a friend of all necessary functions so that the private callback method can be called properly. </p>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00476">476</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="file_a1609913f480a742890ace74e1882ac5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a1609913f480a742890ace74e1882ac5e">&#9670;&nbsp;</a></span>BLOCKING_HCSR04</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;board::Timer NTIMER_, board::DigitalPin TRIGGER_, board::DigitalPin ECHO_&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="sonar_8h.html#a1609913f480a742890ace74e1882ac5e">devices::sonar::BLOCKING_HCSR04</a> = typedef HCSR04&lt;NTIMER_, TRIGGER_, ECHO_, SonarType::BLOCKING&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This template class supports one HC-SR04 sonar (or equivalent sensor), connected to the MCU via 2 pins. </p>
<p>Sonar ranging is performed in blocking mode, i.e. <code>HCSR04::echo_us()</code> method is blocked until ranging is finished or timeout has occurred.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NTIMER_</td><td>the AVR timer of the <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> to use for this sonar </td></tr>
    <tr><td class="paramname">TRIGGER_</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sensor trigger pin; that can be any available pin. </td></tr>
    <tr><td class="paramname">ECHO_</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sensor echo pin</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a> </dd>
<dd>
HCSR04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00918">918</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="file_a549182f59f1965da0341ffc4137f3a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a549182f59f1965da0341ffc4137f3a1e">&#9670;&nbsp;</a></span>ASYNC_INT_HCSR04</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;board::Timer NTIMER_, board::DigitalPin TRIGGER_, board::ExternalInterruptPin ECHO_&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="sonar_8h.html#a549182f59f1965da0341ffc4137f3a1e">devices::sonar::ASYNC_INT_HCSR04</a> = typedef HCSR04&lt;NTIMER_, TRIGGER_, <a class="el" href="namespaceboard.html#a8a587b48884f6b62938abfbcf1484130">board::EXT_PIN</a>&lt;ECHO_&gt;(), SonarType::ASYNC_INT&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This template class supports one HC-SR04 sonar (or equivalent sensor), connected to the MCU via 2 pins. </p>
<p>Sonar ranging is performed in asynchronous mode through an <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NTIMER_</td><td>the AVR timer of the <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> to use for this sonar </td></tr>
    <tr><td class="paramname">TRIGGER_</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sensor trigger pin; that can be any available pin. </td></tr>
    <tr><td class="paramname">ECHO_</td><td>the <code><a class="el" href="namespaceboard.html#adea66670db50b076b2c145657aa587f7" title="Defines all digital output pins of target MCU, usable as direct external interrupt pins.">board::ExternalInterruptPin</a></code> connected to the sensor echo pin</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a> </dd>
<dd>
HCSR04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00934">934</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="file_a7bba9656cf69f00d94ab7b571be82457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a7bba9656cf69f00d94ab7b571be82457">&#9670;&nbsp;</a></span>ASYNC_PCINT_HCSR04</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;board::Timer NTIMER_, board::DigitalPin TRIGGER_, board::InterruptPin ECHO_&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="sonar_8h.html#a7bba9656cf69f00d94ab7b571be82457">devices::sonar::ASYNC_PCINT_HCSR04</a> = typedef HCSR04&lt;NTIMER_, TRIGGER_, <a class="el" href="namespaceboard.html#a817ea24e897a7672b250053baec872a4">board::PCI_PIN</a>&lt;ECHO_&gt;(), SonarType::ASYNC_PCINT&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This template class supports one HC-SR04 sonar (or equivalent sensor), connected to the MCU via 2 pins. </p>
<p>Sonar ranging is performed in asynchronous mode through an <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NTIMER_</td><td>the AVR timer of the <code><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a></code> to use for this sonar </td></tr>
    <tr><td class="paramname">TRIGGER_</td><td>the <code><a class="el" href="namespaceboard.html#a5082846fef8fdfb8c8cbcf1163c7b404" title="Defines all available digital input/output pins of the target MCU.">board::DigitalPin</a></code> connected to the sensor trigger pin; that can be any available pin. </td></tr>
    <tr><td class="paramname">ECHO_</td><td>the <code><a class="el" href="namespaceboard.html#a7abd24b042402c0691c0ad6db604e7da" title="Defines all digital output pins of target MCU, usable as pin change interrupt (PCI) pins.">board::InterruptPin</a></code> connected to the sensor echo pin</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classtimer_1_1_r_t_t.html" title="API to handle a real-time timer.">timer::RTT</a> </dd>
<dd>
HCSR04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00950">950</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="file_aaf92144d703d09314a02aaf53bdc9b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_aaf92144d703d09314a02aaf53bdc9b74">&#9670;&nbsp;</a></span>SonarType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="sonar_8h.html#aaf92144d703d09314a02aaf53bdc9b74">devices::sonar::SonarType</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This enum defines the different modes, supported by <code>HCSR04</code>, to calculate the echo pin pulse duration. </p>
<p>Note that you typically do not need this type, neither <code>HCSR04</code>; you should rather use type aliases instead: <code>BLOCKING_HCSR04</code>, <code>ASYNC_INT_HCSR04</code> or <code>ASYNC_PCINT_HCSR04</code>.</p>
<dl class="section see"><dt>See also</dt><dd>BLOCKING_HCSR04 </dd>
<dd>
ASYNC_INT_HCSR04 </dd>
<dd>
ASYNC_PCIINT_HCSR04 </dd>
<dd>
HCSR04 </dd>
<dd>
HCSR04::echo_us() </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00563">563</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="file_ad1f46b1fd69d9c8c486867572a3cfd89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_ad1f46b1fd69d9c8c486867572a3cfd89">&#9670;&nbsp;</a></span>echo_us_to_distance_mm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr uint16_t devices::sonar::echo_us_to_distance_mm </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>echo_us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method converts the echo duration, in microseconds, to the distance between the sensor and the reflecting obstacle, in millimeters. </p>
<p>This method is <code>constexpr</code> hence it can be evaluated at compile-time (for more code size and speed efficiency) when provided a constant argument.</p>
<p>Note that the calculation accounts for the fact that <code>echo_us</code> is the time for a complete roundtrip of the ultrasonic wave, i.e. the time needed for the wave to cover twice the distance between the sensor and the reflecting obstacle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">echo_us</td><td>the echo pulse duration, in microseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the distance, in millimeters, between the sensor and the obstacle </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00519">519</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<a id="file_af3bc97f71928347fa7b883f166235916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_af3bc97f71928347fa7b883f166235916">&#9670;&nbsp;</a></span>distance_mm_to_echo_us()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr uint16_t devices::sonar::distance_mm_to_echo_us </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>distance_mm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method converts the disatnce, in millimeters, between the sensor and a reflecting object, into the expected echo duration, in microseconds. </p>
<p>This method is <code>constexpr</code> hence it can be evaluated at compile-time (for more code size and speed efficiency) when provided a constant argument. It can thus be used to calculate constant echo durations based on "threshold" distances that your program may need to specifically address.</p>
<p>Note that the calculation accounts for the fact that the echo duration is the time for a complete roundtrip of the ultrasonic wave, i.e. the time needed for the wave to cover twice the distance between the sensor and the reflecting obstacle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance_mm</td><td>the distance, in millimeters, between the sensor and the obstacle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the echo pulse duration, in microseconds, expected for <code>distance_mm</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00543">543</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="file_a45348626a8f4f1dad995f9376cc92770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a45348626a8f4f1dad995f9376cc92770">&#9670;&nbsp;</a></span>SPEED_OF_SOUND</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const uint32_t devices::sonar::SPEED_OF_SOUND = 340UL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The approximate speed of sound (and ultrasonic) waves, in the air, expressed in meters per second. </p>
<p>This constant is useful everytime we need to convert echo durations from the ultrasonic sensor to a concrete distance. </p>

<p class="definition">Definition at line <a class="el" href="sonar_8h_source.html#l00502">502</a> of file <a class="el" href="sonar_8h_source.html">sonar.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_855eda775a9841b65daa0015d5560bfd.html">fastarduino</a></li><li class="navelem"><a class="el" href="dir_c8147ad417a9a009ff67e0ffb1a47300.html">devices</a></li><li class="navelem"><a class="el" href="sonar_8h.html">sonar.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
